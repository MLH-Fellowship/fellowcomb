# Migration `20201118161747`

This migration has been generated by --replace-all at 11/19/2020, 12:17:47 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "user" DROP CONSTRAINT "user_podid_foreign"

CREATE TABLE "User" (
    "id" TEXT NOT NULL,
    "email" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "name" TEXT,
    "nickname" TEXT,
    "phone" TEXT,
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "updatedAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "deletedAt" TIMESTAMP(3),

    PRIMARY KEY ("id")
)

DROP TABLE "pod"

DROP TABLE "user"

CREATE UNIQUE INDEX "User.email_unique" ON "User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201118155210-remove_old..20201118161747
--- datamodel.dml
+++ datamodel.dml
@@ -3,19 +3,18 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
-model pod {
-  title String
-  id    Int    @id @default(autoincrement()) @map("_id")
-  user  user[]
+model User {
+  id        String    @id @default(cuid())
+  email     String    @unique
+  password  String
+  name      String?
+  nickname  String?
+  phone     String?
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @default(now())
+  deletedAt DateTime?
 }
-
-model user {
-  name  String
-  podId Int?
-  id    Int    @id @default(autoincrement()) @map("_id")
-  pod   pod?   @relation(fields: [podId], references: [id])
-}
```


